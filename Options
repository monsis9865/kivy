from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.label import Label
from kivy.uix.textinput import TextInput
from kivy.uix.button import Button
import random

class RegistrationForm(BoxLayout):
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        self.orientation = 'vertical'
        
        self.add_widget(Label(text='Nom d\'utilisateur'))
        self.username = TextInput(multiline=False)
        self.add_widget(self.username)
        
        self.add_widget(Label(text='Email'))
        self.email = TextInput(multiline=False)
        self.add_widget(self.email)
        
        self.add_widget(Label(text='Mot de passe'))
        self.password = TextInput(password=True, multiline=False)
        self.add_widget(self.password)
        
        self.submit = Button(text='S\'enregistrer')
        self.submit.bind(on_press=self.submit_form)
        self.add_widget(self.submit)
    
    def submit_form(self, instance):
        # Logique pour soumettre le formulaire et générer un code de vérification
        verification_code = random.randint(1000, 9999)
        print(f'Nom d\'utilisateur: {self.username.text}, Email: {self.email.text}, Code de vérification: {verification_code}')

class RegistrationApp(App):
    def build(self):
        return RegistrationForm()

if __name__ == '__main__':
    RegistrationApp().run()
